<div class="dialog-container">
  <h2 mat-dialog-title>
    <mat-icon>edit</mat-icon>
    Editar IP Autorizado
  </h2>

  <mat-dialog-content>
    <div class="ip-display">
      <mat-icon>router</mat-icon>
      <div class="ip-info">
        <span class="ip-label">Endereco IP:</span>
        <span class="ip-address">{{ data.ip }}</span>
      </div>
    </div>

    <p class="ip-note">
      <mat-icon>info</mat-icon>
      O endereco IP nao pode ser alterado. Para mudar o IP, exclua este registro
      e crie um novo.
    </p>

    <form [formGroup]="ipForm" class="ip-form">
      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Descricao</mat-label>
        <textarea
          matInput
          formControlName="descricao"
          placeholder="Ex: Computador da recepção"
          rows="3"
          maxlength="200"
        ></textarea>
        <mat-icon matPrefix>description</mat-icon>
        <mat-error *ngIf="ipForm.get('descricao')?.invalid">
          {{ getDescricaoErrorMessage() }}
        </mat-error>
        <mat-hint align="end">
          {{ ipForm.get('descricao')?.value?.length || 0 }}/200
        </mat-hint>
      </mat-form-field>

      <div class="toggle-field">
        <mat-slide-toggle formControlName="ativo" color="primary">
          <span class="toggle-label">
            <mat-icon>{{ ipForm.get('ativo')?.value ? 'check_circle' : 'cancel' }}</mat-icon>
            {{ ipForm.get('ativo')?.value ? 'Ativo' : 'Inativo' }}
          </span>
        </mat-slide-toggle>
        <p class="toggle-hint">
          IPs ativos podem fazer login automaticamente no sistema
        </p>
      </div>
    </form>

    <div class="dates-info">
      <div class="date-item">
        <mat-icon>calendar_today</mat-icon>
        <span>Criado em: {{ formatDate(data.createdAt) }}</span>
      </div>
      <div class="date-item">
        <mat-icon>update</mat-icon>
        <span>Atualizado em: {{ formatDate(data.updatedAt) }}</span>
      </div>
    </div>
  </mat-dialog-content>

  <mat-dialog-actions align="end">
    <button mat-button (click)="onCancel()" type="button">
      <mat-icon>close</mat-icon>
      Cancelar
    </button>
    <button
      mat-raised-button
      color="primary"
      (click)="onSubmit()"
      [disabled]="!ipForm.valid"
      type="submit"
    >
      <mat-icon>save</mat-icon>
      Salvar
    </button>
  </mat-dialog-actions>
</div>

<!--
   __  ____ ____ _  _
 / _\/ ___) ___) )( \
/    \___ \___ ) \/ (
\_/\_(____(____|____/
-->
